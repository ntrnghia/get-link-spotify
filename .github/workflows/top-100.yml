# Sync ZingMP3 Top 100 to Spotify (every hour)
name: Update ZingMP3 Top 100

on:
  schedule:
    - cron: '0 * * * *'  # Every hour at minute 0
  workflow_dispatch:  # Manual trigger from GitHub UI

# Grant permissions for cache management in reusable workflow
permissions:
  actions: write
  contents: read

jobs:
  update:
    uses: ./.github/workflows/sync-chart.yml
    with:
      chart_url: 'https://zingmp3.vn/zing-chart'
      chart_name: 'Top 100'
      playlist_name: 'ZingMP3 Top 100'
      sorted_playlist_name: 'ZingMP3 Top 100 (sorted by Spotify popularity)'
      trending_playlist_name: 'ZingMP3 Top 100 (new & trending)'
      output_file: 'zingchart_top_100.xlsx'
      min_file_size: 100000
    secrets: inherit
